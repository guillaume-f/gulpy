function checkType(e){return"accordion"===e||"tabs"===e||(console.error("Your type is "+e+' but it is wrong. \n Make sure your type equals "accordion" or "tabs"'),!1)}function checkHeaderElement(e,n){var t=$(document).find(e).find(n);return!(t.length<=0)||(console.error('It is look like your header element "'+n+'" is missing.\nPlease check your document or your script.'),!1)}function checkContentElement(e,n){var t=$(document).find(e).find(n);return!(t.length<=0)||(console.error('It is look like your content element "'+n+'" is missing.\nPlease check your document or your script.'),!1)}function checkNumberElements(e,n,t){var i=$(document).find(e).find(n),o=$(document).find(e).find(t);return i.length===o.length||(console.error("It is look like the number of titles elements ("+i.length+") is different of number of contents elements ("+o.length+").\n Please verify your html document"),!1)}function checkTagsAndRelations(e,n,t){var i=$(document).find(e).find(n),o=($(document).find(e).find(t),!0);return $.each(i,function(n,t){var i=getTarget($(t));checkHref(e,i)||(o=!1)}),o}function checkHref(e,n){var t=$(document).find(e).find(n);return 1===t.length||(t.length>1?(console.error('It is look like content element "'+n+'" is present multiple times.'),!1):(console.error('It is look like title element "'+n+'" has not the correct content.\n Please check your html document.'),!1))}function checkAnimationDuration(e){return"number"==typeof e||(console.error("It is look like the value of animation duration is not a integer. \n Please insert an integer."),!1)}function checkIndicators(e,n){return"string"==typeof e&&"string"==typeof n||(console.error("Your indicators must be a jQuery selector"),!1)}function buildAccordion(e,n){var t=$(document).find(initialContentElementDuplicated).find(n.header);$(document).find(initialContentElementDuplicated).addClass("gulpy-accordion"),$.each(t,function(e,t){var i=getTarget($(t));$(t).addClass("gulpy-accordion-header").append("<div class='gulpy-accordion-indicator'>"+n.openIndicator+"</div>"),$(document).find(initialContentElementDuplicated).find(i).addClass("gulpy-accordion-content").insertAfter(t)}),accordionReadyToOperate(initialContentElementDuplicated,n)}function accordionReadyToOperate(e,n){$(document).find(e).find(n.content).hide().addClass("gulpy-accordion-content-close");var t=".gulpy-accordion "+n.header;$(document).on("click",t,function(t){t.stopImmediatePropagation(),$(t.currentTarget).next(n.content).is(":visible")?$(t.currentTarget).removeClass("gulpy-accordion-header-current").find(".gulpy-accordion-indicator").empty().append(n.openIndicator).closest(t.currentTarget).next(n.content).stop().slideUp(n.animationDuration).addClass("gulpy-accordion-content-close").removeClass("gulpy-accordion-content-open"):($(document).find(e).find(n.header).removeClass("gulpy-accordion-header-current").find(".gulpy-accordion-indicator").empty().append(n.openIndicator),$(document).find(e).find(n.content).stop().slideUp(n.animationDuration).addClass("gulpy-accordion-content-close").removeClass("gulpy-accordion-content-open"),$(t.currentTarget).addClass("gulpy-accordion-header-current").find(".gulpy-accordion-indicator").empty().append(n.closeIndicator).closest(t.currentTarget).next(n.content).stop().slideDown(n.animationDuration).addClass("gulpy-accordion-content-open").removeClass("gulpy-accordion-content-close")),t.preventDefault()})}function buildTabs(e,n){var t=$(document).find(initialContentElementDuplicated).find(n.header),i=$(document).find(initialContentElementDuplicated).find(n.content);$(document).find(initialContentElementDuplicated).addClass("gulpy-tabs"),$(document).find(initialContentElementDuplicated).prepend('<div class="gulpy-tabs-headers"></div>'),$(document).find(initialContentElementDuplicated).find(".gulpy-tabs-headers").append(t),$(document).find(initialContentElementDuplicated).find(n.header).addClass("gulpy-tabs-header"),$(document).find(initialContentElementDuplicated).append('<div class="gulpy-tabs-contents"></div>'),$(document).find(initialContentElementDuplicated).find(".gulpy-tabs-contents").append(i),$(document).find(initialContentElementDuplicated).find(n.content).addClass("gulpy-tabs-content"),tabsReadyToOperate(initialContentElementDuplicated,n)}function tabsReadyToOperate(e,n){var t,i=$(document).find(e).find(n.header).first(),o=".gulpy-tabs "+n.header;$(document).find(e).find(n.content).hide(),i.addClass("gulpy-tabs-header-current"),t=getTarget(i),$(document).find(e).find(".gulpy-tabs-contents").find(t).show().addClass("gulpy-tabs-content-current"),$(document).on("click",o,function(o){o.stopImmediatePropagation(),$(document).find(e).find(n.header).removeClass("gulpy-tabs-header-current"),$(document).find(e).find(n.content).hide().removeClass("gulpy-tabs-content-current"),i=$(o.currentTarget),t=getTarget(i),$(document).find(e).find(".gulpy-tabs-contents").find(t).stop().fadeIn(n.animationDuration).addClass("gulpy-tabs-content-current"),i.addClass("gulpy-tabs-header-current"),o.preventDefault()})}function getTarget(e){return"a"===e.prop("tagName").toLowerCase()?e.attr("href"):e.data("href")}function chooseWhatBuild(e,n){switch(clear(e),n.type){case"accordion":buildAccordion(e,n);break;case"tabs":buildTabs(e,n);break;default:console.error("An error occured.")}}function checkResponsiveEquality(e,n){var t=null;if(null!=e.responsive)for(var i=0;i<e.responsive.length;i++)n<=e.responsive[i].breakpoint&&(t=i);return t}function checkSettingsValues(e,n){checkType(n.type)&&checkHeaderElement(e,n.header)&&checkContentElement(e,n.content)&&checkNumberElements(e,n.header,n.content)&&checkTagsAndRelations(e,n.header,n.content)&&checkAnimationDuration(n.animationDuration)&&checkIndicators(n.openIndicator,n.closeIndicator)&&chooseWhatBuild(e,n)}function clear(e){initialContentElementDuplicated=initialContentElement.clone(),$(document).find(e).replaceWith(initialContentElementDuplicated)}var initialContentElement,initialContentElementDuplicated;!function(e){"use strict";var n=e(window).width();e.fn.gulpy=function(t){var i=this;initialContentElement=i.clone(),initialContentElementDuplicated=initialContentElement.clone();var o={type:"accordion",header:".title",content:".content",animationDuration:500,openIndicator:"<span>+</span>",closeIndicator:"<span>-</span>",responsive:null},a=e.extend({},o,t),c=a;if(a.responsive&&"object"==typeof a.responsive&&null!=a.responsive){var r=checkResponsiveEquality(a,n),d=null;null!=r&&(a=e.extend({},o,c.responsive[r].settings)),e(window).resize(function(){i=initialContentElementDuplicated,n!==e(window).width()&&(n=e(window).width(),d=checkResponsiveEquality(c,n),d!=r&&(r=d,d=null,null!=r?(a=e.extend({},o,c.responsive[r].settings),checkSettingsValues(i,a)):(a=c,checkSettingsValues(i,a))))})}checkSettingsValues(i,a)}}(jQuery);